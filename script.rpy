
# Li Yu Playwright Scoring Template with Evaluation

default score = 0

label start:
    scene black
    "歡迎進入李漁戲律評核。"
    jump act1

# ---------- ACT 1 (小曲 -> 家門) ----------
label act1:
    "【第一出】開場格式：『先小曲，後家門』。"
    "請決定角色先唱小曲還是先報家門："

    menu:
        "開場的第一步：":
            "唱小曲 (正確)":
                $ score += 10
                "你選擇了先唱小曲，符合格式。（+10）"
            "報家門":
                $ score -= 10
                "你直接報家門，李漁皺眉：『未說家門，先有小曲』。（-10）"

    menu:
        "接下來：":
            "再唱小曲（多此一舉）":
                $ score -= 5
                "重複唱小曲，稍嫌拖沓。（-5）"
            "報家門 (正確)":
                $ score += 5
                "小曲之後接家門，承題清楚。（+5）"

    "第一出結束，目前分數：[score] 分。"

    jump act2

# ---------- ACT 2 (引子 -> 定場白) ----------
label act2:
    "【第二出：沖場格式】應先唱『引子』，再接『定場白』。"

    menu:
        "開場是否先唱引子？":
            "唱引子 (正確)":
                $ score += 10
                "你遵守格式，先唱悠長引子。（+10）"
            "直接定場白":
                $ score -= 10
                "你跳過引子，李漁不滿。（-10）"

    menu:
        "接下來是否接定場白？":
            "接定場白 (正確)":
                $ score += 5
                "引子之後接定場白，耳目搖搖而今方定。（+5）"
            "再唱引子（多餘）":
                $ score -= 5
                "你重複唱引子，拖沓了。（-5）"

    "第二出結束，目前分數：[score] 分。"
    jump mid_break

# ---------- MID BREAK (小收煞) ----------
label mid_break:
    "【上半部末出】小收煞：緊而不寬，使觀眾揣摩後文。"
    menu:
        "是否安排小收煞？":
            "是 (正確)":
                $ score += 10
                "設置小收煞，觀者猜不透，下文引人。（+10）"
            "否":
                $ score -= 5
                "未設小收煞，稍顯平淡。（-5）"

    "小收煞結束，目前分數：[score] 分。"
    jump finale

# ---------- FINALE (大收煞) ----------
label finale:
    "【收場：大收煞】"
    menu:
        "結尾是否自然收束、五人會合？":
            "是 (正確)":
                $ score += 15
                "水到渠成，觀者稱善。（+15）"
            "否":
                $ score -= 10
                "勉強湊合，觀者見痕跡。（-10）"

    "全劇結束。最終分數：[score] 分。"
    call performance_summary
    return

# ---------- PERFORMANCE SUMMARY ----------
label performance_summary:
    scene black
    "【演出評估】"
    "Act 1（小曲與家門）: 選擇順序已計入總分。"
    "Act 2（引子與定場白）: 選擇順序已計入總分。"
    "小收煞與大收煞: 根據你的決策增加或扣分。"
    "最終得分：[score] 分。"

    if score >= 40:
        "李漁：『收場一出，勾魂攝魄，真絕技也！』"
    elif score >= 20:
        "李漁：『尚能遵法，然猶見痕跡。』"
    else:
        "李漁：『此非道中絕技，仍需涵泳古法。』"
    return
